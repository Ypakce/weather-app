(()=>{let e="metric",t={};async function n(e){try{let n=`https://api.weatherapi.com/v1/current.json?key=79a7ec2447774fcca6a184148232508&q=${e}`;const c=await fetch(n,{mode:"cors"});if(!c.ok)throw new Error(`City ${e} not found`);const r=await c.json();return t=r,r}catch(e){return void alert(e)}}function c(e,t){const n=document.querySelector(".country-name"),c=document.querySelector(".local-date"),r=document.querySelector(".weather-img"),o=document.querySelector(".temp"),i=document.querySelector(".weather-desc"),u=document.querySelector(".feels-like"),a=document.querySelector(".wind"),l=document.querySelector(".humidity"),s=document.querySelector(".visibility");if(n.textContent=`${e.location.name}, ${e.location.country}`,c.textContent=`${e.location.localtime}`,r.src=e.current.condition.icon,i.textContent=`${e.current.condition.text}`,l.textContent=`${e.current.humidity}%`,"metric"==t)o.textContent=`${e.current.temp_c}째C`,u.textContent=`Feels like ${e.current.feelslike_c}째C`,a.textContent=`${e.current.wind_kph}km/h`,s.textContent=`${e.current.vis_km}km`;else{if("imperial"!=t)return;o.textContent=`${e.current.temp_f}째F`,u.textContent=`Feels like ${e.current.feelslike_f}째F`,a.textContent=`${e.current.wind_mph}mph`,s.textContent=`${e.current.vis_miles}miles`}}document.querySelector(".search-button").addEventListener("click",(async()=>{const t=document.querySelector(".search-input");""!==t.value&&c(await n(t.value),e)}));const r=document.querySelector(".c-button"),o=document.querySelector(".f-button");o.addEventListener("click",(()=>{r.classList.remove("active"),o.classList.add("active"),e="imperial",c(t,e)})),r.addEventListener("click",(()=>{o.classList.remove("active"),r.classList.add("active"),e="metric",c(t,e)})),async function(e,t){c(await n("istanbul"),t)}(0,e)})();